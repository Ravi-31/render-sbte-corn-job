import{a as O,t as P}from"../chunks/disclose-version.BG6KKQKQ.js";import{i as Me}from"../chunks/legacy.Bq2vN1Ln.js";import{T as ve,V as ce,W as ke,F as oe,a6 as Ne,b as Re,ab as Ee,h as B,M as le,J as $e,I as De,a4 as Se,K as Le,L as _e,N as se,c as X,ac as te,O as xe,a as Ae,P as Fe,ad as He,ae as ue,af as de,ag as fe,ah as Oe,a3 as je,ai as qe,d as Ve,Y as Be,a0 as Pe,aj as Ye,a8 as Je,A as pe,ak as Ke,_ as Ue,al as we,p as We,g as j,f as Xe,t as q,e as ze,i as N,j as S,am as he,o as T}from"../chunks/runtime.FqQbRKst.js";import{d as Ge,s as Qe,c as me,b as V,a as z}from"../chunks/store.FtrE5jM4.js";import{i as Ze,o as ea,a as aa}from"../chunks/index-client.CxreS0SW.js";import{d as ie,w as G}from"../chunks/index.DP4L1D8X.js";let be=!1;function ta(){be||(be=!0,document.addEventListener("reset",t=>{Promise.resolve().then(()=>{var e;if(!t.defaultPrevented)for(const a of t.target.elements)(e=a.__on_r)==null||e.call(a)})},{capture:!0}))}function ra(t){var e=ke,a=oe;ve(null),ce(null);try{return t()}finally{ve(e),ce(a)}}function na(t,e,a,r=a){t.addEventListener(e,()=>ra(a));const n=t.__on_r;n?t.__on_r=()=>{n(),r(!0)}:t.__on_r=()=>r(!0),ta()}function Q(t,e){return e}function la(t,e,a,r){for(var n=[],v=e.length,f=0;f<v;f++)Oe(e[f].e,n,!0);var h=v>0&&n.length===0&&a!==null;if(h){var x=a.parentNode;je(x),x.append(a),r.clear(),L(t,e[0].prev,e[v-1].next)}qe(n,()=>{for(var g=0;g<v;g++){var p=e[g];h||(r.delete(p.k),L(t,p.prev,p.next)),Ve(p.e,!h)}})}function Z(t,e,a,r,n,v=null){var f=t,h={flags:e,items:new Map,first:null},x=(e&Ee)!==0;if(x){var g=t;f=B?le(Be(g)):g.appendChild(Ne())}B&&$e();var p=null,I=!1;Re(()=>{var l=a(),c=De(l)?l:l==null?[]:Se(l),u=c.length;if(I&&u===0)return;I=u===0;let M=!1;if(B){var y=f.data===Le;y!==(u===0)&&(f=_e(),le(f),se(!1),M=!0)}if(B){for(var k=null,A,b=0;b<u;b++){if(X.nodeType===8&&X.data===Pe){f=X,M=!0,se(!1);break}var s=c[b],i=r(s,b);A=Te(X,h,k,null,s,i,b,n,e),h.items.set(i,A),k=A}u>0&&le(_e())}if(!B){var F=ke;sa(c,h,f,n,e,(F.f&te)!==0,r)}v!==null&&(u===0?p?xe(p):p=Ae(()=>v(f)):p!==null&&Fe(p,()=>{p=null})),M&&se(!0),a()}),B&&(f=X)}function sa(t,e,a,r,n,v,f){var W,_,o,d;var h=(n&Ye)!==0,x=(n&(ue|fe))!==0,g=t.length,p=e.items,I=e.first,l=I,c,u=null,M,y=[],k=[],A,b,s,i;if(h)for(i=0;i<g;i+=1)A=t[i],b=f(A,i),s=p.get(b),s!==void 0&&((W=s.a)==null||W.measure(),(M??(M=new Set)).add(s));for(i=0;i<g;i+=1){if(A=t[i],b=f(A,i),s=p.get(b),s===void 0){var F=l?l.e.nodes_start:a;u=Te(F,e,u,u===null?e.first:u.next,A,b,i,r,n),p.set(b,u),y=[],k=[],l=u.next;continue}if(x&&ia(s,A,i,n),s.e.f&te&&(xe(s.e),h&&((_=s.a)==null||_.unfix(),(M??(M=new Set)).delete(s))),s!==l){if(c!==void 0&&c.has(s)){if(y.length<k.length){var Y=k[0],E;u=Y.prev;var J=y[0],U=y[y.length-1];for(E=0;E<y.length;E+=1)ge(y[E],Y,a);for(E=0;E<k.length;E+=1)c.delete(k[E]);L(e,J.prev,U.next),L(e,u,J),L(e,U,Y),l=Y,u=U,i-=1,y=[],k=[]}else c.delete(s),ge(s,l,a),L(e,s.prev,s.next),L(e,s,u===null?e.first:u.next),L(e,u,s),u=s;continue}for(y=[],k=[];l!==null&&l.k!==b;)(v||!(l.e.f&te))&&(c??(c=new Set)).add(l),k.push(l),l=l.next;if(l===null)continue;s=l}y.push(s),u=s,l=s.next}if(l!==null||c!==void 0){for(var $=c===void 0?[]:Se(c);l!==null;)(v||!(l.e.f&te))&&$.push(l),l=l.next;var H=$.length;if(H>0){var ae=n&Ee&&g===0?a:null;if(h){for(i=0;i<H;i+=1)(o=$[i].a)==null||o.measure();for(i=0;i<H;i+=1)(d=$[i].a)==null||d.fix()}la(e,$,ae,p)}}h&&He(()=>{var m;if(M!==void 0)for(s of M)(m=s.a)==null||m.apply()}),oe.first=e.first&&e.first.e,oe.last=u&&u.e}function ia(t,e,a,r){r&ue&&de(t.v,e),r&fe?de(t.i,a):t.i=a}function Te(t,e,a,r,n,v,f,h,x){var g=(x&ue)!==0,p=(x&Ke)===0,I=g?p?Je(n):pe(n):n,l=x&fe?pe(f):f,c={i:l,v:I,k:v,a:null,e:null,prev:a,next:r};try{return c.e=Ae(()=>h(t,I,l),B),c.e.prev=a&&a.e,c.e.next=r&&r.e,a===null?e.first=c:(a.next=c,a.e.next=c.e),r!==null&&(r.prev=c,r.e.prev=c.e),c}finally{}}function ge(t,e,a){for(var r=t.next?t.next.e.nodes_start:a,n=e?e.e.nodes_start:a,v=t.e.nodes_start;v!==r;){var f=Ue(v);n.before(v),v=f}}function L(t,e,a){e===null?t.first=a:(e.next=a,e.e.next=a&&a.e),a!==null&&(a.prev=e,a.e.prev=e&&e.e)}function Ie(t,e,a){if(t.multiple)return ua(t,e);for(var r of t.options){var n=ee(r);if(Ze(n,e)){r.selected=!0;return}}(!a||e!==void 0)&&(t.selectedIndex=-1)}function oa(t,e){we(()=>{var a=new MutationObserver(()=>{var r=t.__value;Ie(t,r)});return a.observe(t,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{a.disconnect()}})}function ye(t,e,a=e){var r=!0;na(t,"change",n=>{var v=n?"[selected]":":checked",f;if(t.multiple)f=[].map.call(t.querySelectorAll(v),ee);else{var h=t.querySelector(v)??t.querySelector("option:not([disabled])");f=h&&ee(h)}a(f)}),we(()=>{var n=e();if(Ie(t,n,r),r&&n===void 0){var v=t.querySelector(":checked");v!==null&&(n=ee(v),a(n))}t.__value=n,r=!1}),oa(t)}function ua(t,e){for(var a of t.options)a.selected=~e.indexOf(ee(a))}function ee(t){return"__value"in t?t.__value:t.value}var fa=P("<option> </option>"),va=P("<option> </option>"),ca=(t,e,a)=>e(a()),_a=P('<span class="svelte-j1yum4"> </span>'),da=P('<th class="svelte-j1yum4"><button class="svelte-j1yum4"> <!></button></th>'),pa=P('<td class="svelte-j1yum4"> </td>'),ha=P('<tr class="svelte-j1yum4"></tr>'),ma=P('<h2>Student Records</h2> <select class="svelte-j1yum4"><option>All Branches</option><!></select> <select class="svelte-j1yum4"><option>All Colleges</option><!></select> <table class="svelte-j1yum4"><thead><tr class="svelte-j1yum4"></tr></thead><tbody></tbody></table>',1);function xa(t,e){We(e,!1);const a=Qe(),r=()=>V(I,"$branchFilter",a),n=()=>V(M,"$branches",a),v=()=>V(l,"$collegeFilter",a),f=()=>V(y,"$colleges",a),h=()=>V(c,"$sortKey",a),x=()=>V(u,"$sortDirection",a),g=()=>V(b,"$filteredAndSortedStudents",a);let p=G([]),I=G("all"),l=G("all"),c=G(""),u=G("ascending");ea(async()=>{const _=await fetch("./data.json");if(_.ok){const o=await _.json();p.set(o)}else console.error("Failed to fetch student data.")});let M=ie(p,_=>[...new Set(_.map(o=>o.branch))]),y=ie(p,_=>[...new Set(_.map(o=>o.college))]);const k=[{label:"Name",key:"name"},{label:"College",key:"college"},{label:"Roll Number",key:"roll"},{label:"Branch",key:"branch"},{label:"Marks",key:"marks"},{label:"Theory Marks",key:"theory"},{label:"Remarks",key:"remarks"}];function A(_){c.update(o=>{if(o===_)u.update(d=>d==="ascending"?"descending":"ascending");else return u.set("ascending"),_;return o})}let b=ie([p,I,l,c,u],([_,o,d,m,w])=>_.filter(C=>o==="all"||C.branch===o).filter(C=>d==="all"||C.college===d).sort((C,D)=>{if(!m)return 0;const R=C[m],K=D[m];return typeof R=="string"?w==="ascending"?R.localeCompare(K):K.localeCompare(R):w==="ascending"?R-K:K-R}));Me();var s=ma(),i=j(Xe(s),2);q(()=>{r(),he(()=>{n()})});var F=N(i);F.value=(F.__value="all")==null?"":"all";var Y=j(F);Z(Y,1,n,Q,(_,o)=>{var d=fa(),m={},w=N(d,!0);S(d),q(()=>{m!==(m=T(o))&&(d.value=(d.__value=T(o))==null?"":T(o)),z(w,T(o))}),O(_,d)}),S(i);var E=j(i,2);q(()=>{v(),he(()=>{f()})});var J=N(E);J.value=(J.__value="all")==null?"":"all";var U=j(J);Z(U,1,f,Q,(_,o)=>{var d=va(),m={},w=N(d,!0);S(d),q(()=>{m!==(m=T(o))&&(d.value=(d.__value=T(o))==null?"":T(o)),z(w,T(o))}),O(_,d)}),S(E);var $=j(E,2),H=N($),ae=N(H);Z(ae,5,()=>k,Q,(_,o)=>{let d=()=>T(o).label,m=()=>T(o).key;var w=da(),C=N(w);C.__click=[ca,A,m];var D=N(C),R=j(D);{var K=re=>{var ne=_a(),Ce=N(ne,!0);S(ne),q(()=>z(Ce,x()==="ascending"?"↑":"↓")),O(re,ne)};aa(R,re=>{h()===m()&&re(K)})}S(C),S(w),q(()=>z(D,`${d()??""} `)),O(_,w)}),S(ae),S(H);var W=j(H);Z(W,5,g,Q,(_,o)=>{var d=ha();Z(d,5,()=>k,Q,(m,w)=>{let C=()=>T(w).key;var D=pa(),R=N(D,!0);S(D),q(()=>z(R,T(o)[C()])),O(m,D)}),S(d),O(_,d)}),S(W),S($),ye(i,r,_=>me(I,_)),ye(E,v,_=>me(l,_)),O(t,s),ze()}Ge(["click"]);export{xa as component};
